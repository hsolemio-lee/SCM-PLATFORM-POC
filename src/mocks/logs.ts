import { SolverStage } from '../types';

export const solverLogMessages: Record<SolverStage, Record<string, string[]>> = {
  dp: {
    prophet: [
      '[INFO] Initializing Prophet model...',
      '[INFO] Loading historical sales data: 24 months, 2,847 SKU records',
      '[INFO] Configuring seasonality components (yearly, weekly, daily)...',
      '[INFO] Detecting changepoints in time series...',
      '[INFO] Found 3 significant changepoints in data',
      '[INFO] Fitting additive seasonality model...',
      '[WARN] High uncertainty detected in APAC-3 region forecasts',
      '[INFO] Adding holiday effects for 12 countries...',
      '[INFO] Running MCMC sampling: 1000 iterations...',
      '[INFO] MCMC sampling complete. Convergence achieved.',
      '[INFO] Generating forecast intervals (80%, 95%)...',
      '[INFO] Cross-validation in progress: fold 1/5...',
      '[INFO] Cross-validation complete. MAPE: 6.2%',
      '[INFO] Generating 12-month ahead forecasts...',
      '[INFO] Prophet model completed successfully.',
      '[INFO] Output: Forecasts generated with 93.8% accuracy',
    ],
    arima: [
      '[INFO] Running ARIMA(1,1,1) model...',
      '[INFO] Loading time series data: 36 months history',
      '[INFO] Performing Augmented Dickey-Fuller test...',
      '[INFO] ADF statistic: -3.42, p-value: 0.011 (stationary)',
      '[INFO] Auto-selecting optimal (p,d,q) parameters...',
      '[INFO] Testing ARIMA(0,1,1)... AIC: 1245.3',
      '[INFO] Testing ARIMA(1,1,0)... AIC: 1267.8',
      '[INFO] Testing ARIMA(1,1,1)... AIC: 1198.6',
      '[INFO] Testing ARIMA(2,1,1)... AIC: 1201.2',
      '[INFO] Optimal model selected: ARIMA(1,1,1)',
      '[INFO] Fitting model parameters via MLE...',
      '[INFO] Checking residual diagnostics...',
      '[WARN] Ljung-Box test shows slight autocorrelation at lag 12',
      '[INFO] Model coefficients: AR(1)=0.72, MA(1)=-0.45',
      '[INFO] Generating point forecasts and confidence intervals...',
      '[INFO] ARIMA forecasting complete. MAPE: 7.1%',
    ],
    xgboost: [
      '[INFO] Loading XGBoost regressor...',
      '[INFO] Feature engineering: generating lag features (1-12 months)...',
      '[INFO] Creating rolling window statistics (mean, std, min, max)...',
      '[INFO] Encoding categorical variables: 15 features generated',
      '[INFO] Total features: 48 predictors',
      '[INFO] Splitting data: 80% train, 20% validation',
      '[INFO] XGBoost training started...',
      '[INFO] Iteration 100/500... RMSE: 1245.3',
      '[INFO] Iteration 200/500... RMSE: 987.6',
      '[INFO] Iteration 300/500... RMSE: 854.2',
      '[WARN] Early stopping triggered at iteration 320',
      '[INFO] Best iteration: 298 with RMSE: 842.1',
      '[INFO] Feature importance: lag_1 (0.23), rolling_mean_3 (0.18), promo_flag (0.15)',
      '[INFO] Running SHAP analysis for interpretability...',
      '[INFO] Validation MAPE: 5.4%',
      '[INFO] XGBoost demand forecasting complete.',
      '[INFO] Output: 12-month forecasts with 94.6% accuracy',
    ],
    lstm: [
      '[INFO] Initializing LSTM Neural Network...',
      '[INFO] Loading and normalizing time series data...',
      '[INFO] Creating sequences: window size = 12, step = 1',
      '[INFO] Network architecture: 2 LSTM layers (64, 32 units)',
      '[INFO] Adding dropout layers (rate=0.2) for regularization',
      '[INFO] Compiling model with Adam optimizer (lr=0.001)...',
      '[INFO] Training started: batch_size=32, epochs=100',
      '[INFO] Epoch 10/100... Loss: 0.0842, Val_Loss: 0.0912',
      '[INFO] Epoch 30/100... Loss: 0.0523, Val_Loss: 0.0687',
      '[INFO] Epoch 50/100... Loss: 0.0312, Val_Loss: 0.0534',
      '[WARN] Learning rate reduced: 0.001 -> 0.0005',
      '[INFO] Epoch 70/100... Loss: 0.0198, Val_Loss: 0.0412',
      '[INFO] Epoch 90/100... Loss: 0.0145, Val_Loss: 0.0389',
      '[INFO] Early stopping at epoch 87. Best Val_Loss: 0.0378',
      '[INFO] Inverse transforming predictions to original scale...',
      '[INFO] LSTM model completed. MAPE: 5.9%',
      '[INFO] Output: Deep learning forecasts generated successfully',
    ],
    'holt-winters': [
      '[INFO] Initializing Holt-Winters model...',
      '[INFO] Loading seasonal time series data...',
      '[INFO] Detecting seasonality period: 12 months (annual cycle)',
      '[INFO] Selecting multiplicative seasonality model...',
      '[INFO] Initializing level, trend, and seasonal components...',
      '[INFO] Optimizing smoothing parameters (alpha, beta, gamma)...',
      '[INFO] Grid search: testing 1000 parameter combinations...',
      '[INFO] Optimal alpha (level): 0.35',
      '[INFO] Optimal beta (trend): 0.12',
      '[INFO] Optimal gamma (seasonal): 0.28',
      '[WARN] Trend component shows slight dampening',
      '[INFO] Applying damped trend modification (phi=0.95)...',
      '[INFO] Fitting model to historical data...',
      '[INFO] Calculating seasonal indices for 12 periods...',
      '[INFO] Generating multi-step ahead forecasts...',
      '[INFO] Holt-Winters complete. MAPE: 6.8%',
      '[INFO] Output: Seasonal forecasts generated with trend decomposition',
    ],
  },
  mp: {
    'nexprime-response': [
      '[INFO] Nexprime SCM Response 솔버 초기화...',
      '[INFO] DP 모듈에서 수요 예측 데이터 로딩 중...',
      '[INFO] 수요 데이터 수신: 4개 제품군, 12개월 예측',
      '[INFO] 공급망 네트워크 구조 분석 중...',
      '[INFO] 3개 공장, 5개 물류센터, 120개 고객 노드 식별',
      '[INFO] 리드타임 매트릭스 구성 완료',
      '[INFO] 재고 정책 로딩: 안전재고, 재주문점 설정',
      '[INFO] Nexprime Response 엔진 구동...',
      '[INFO] 다단계 공급-수요 밸런싱 시작...',
      '[INFO] Plant A 최적화 완료: 가동률 92%',
      '[INFO] Plant B 최적화 완료: 가동률 88%',
      '[WARN] Plant C 용량 초과 감지: 대안 경로 탐색 중...',
      '[INFO] 대안 공급 경로 확보: Plant A -> DC2 추가 할당',
      '[INFO] 서비스 레벨 시뮬레이션 실행 중...',
      '[INFO] 목표 서비스 레벨 98% 달성 확인',
      '[INFO] Nexprime Response 솔버 완료',
      '[INFO] 출력: 마스터 플랜 생성 완료 (최적화율 94.5%)',
    ],
    'nexprime-sequencer': [
      '[INFO] Nexprime SCM Sequencer 시작...',
      '[INFO] 마스터 플랜 데이터 로딩 중...',
      '[INFO] 생산 오더 분석: 48개 오더, 6개 라인',
      '[INFO] 시퀀싱 제약조건 파싱 중...',
      '[INFO] 셋업 타임 매트릭스 로딩: 120개 전환 규칙',
      '[INFO] Nexprime Sequencer 알고리즘 구동...',
      '[INFO] 1단계: 초기 시퀀스 생성 (Priority Rule 기반)',
      '[INFO] 2단계: 로컬 서치 개선 중...',
      '[INFO] Iteration 50: Makespan 1,245분',
      '[INFO] Iteration 100: Makespan 1,089분',
      '[WARN] 병목 자원 감지: Line-3 (가동률 98%)',
      '[INFO] 3단계: 병목 해소 로직 적용 중...',
      '[INFO] Line-3 작업 재배치 완료',
      '[INFO] 최종 Makespan: 1,024분 (18% 개선)',
      '[INFO] 시퀀스 검증 완료: 모든 제약조건 충족',
      '[INFO] Nexprime Sequencer 완료',
      '[INFO] 출력: 최적 생산 시퀀스 생성 (셋업 시간 23% 감소)',
    ],
    'linear-programming': [
      '[INFO] Linear Programming solver initializing...',
      '[INFO] Loading demand forecasts from DP module...',
      '[INFO] Constructing LP model: 2,400 variables, 1,850 constraints',
      '[INFO] Objective function: Minimize total cost (production + inventory + backlog)',
      '[INFO] Adding capacity constraints for 4 plants...',
      '[INFO] Adding inventory balance constraints...',
      '[INFO] Adding demand fulfillment constraints...',
      '[INFO] Preprocessing: removing redundant constraints...',
      '[INFO] 145 redundant constraints eliminated',
      '[INFO] Running Simplex algorithm...',
      '[INFO] Phase 1 complete: feasible solution found',
      '[INFO] Phase 2: Optimizing objective...',
      '[INFO] Iteration 500: Objective = $1,245,000',
      '[INFO] Iteration 1000: Objective = $987,000',
      '[WARN] Degeneracy detected, applying perturbation...',
      '[INFO] Iteration 1500: Objective = $892,000',
      '[INFO] Optimal solution found. Total cost: $892,000',
      '[INFO] LP solver completed successfully.',
    ],
    'genetic-algorithm': [
      '[INFO] Genetic Algorithm for MP starting...',
      '[INFO] Encoding master plan as chromosome...',
      '[INFO] Chromosome length: 480 genes (allocation decisions)',
      '[INFO] Initializing population: 200 individuals',
      '[INFO] Fitness function: Service level - (cost / budget)',
      '[INFO] Selection method: Tournament (size=5)',
      '[INFO] Crossover: Two-point, rate=0.85',
      '[INFO] Mutation: Gaussian perturbation, rate=0.1',
      '[INFO] Generation 1: Best fitness = 0.65, Avg = 0.42',
      '[INFO] Generation 25: Best fitness = 0.78, Avg = 0.61',
      '[INFO] Generation 50: Best fitness = 0.84, Avg = 0.72',
      '[WARN] Diversity dropping below threshold, applying immigration...',
      '[INFO] Generation 75: Best fitness = 0.89, Avg = 0.78',
      '[INFO] Generation 100: Best fitness = 0.91, Avg = 0.82',
      '[INFO] Convergence achieved at generation 98',
      '[INFO] Decoding best chromosome to master plan...',
      '[INFO] GA optimization complete. Service level: 97.8%',
    ],
    'milp': [
      '[INFO] MILP solver initializing...',
      '[INFO] Building Mixed-Integer model...',
      '[INFO] Continuous variables: 1,200 (production quantities)',
      '[INFO] Binary variables: 480 (setup decisions)',
      '[INFO] Integer variables: 240 (lot sizes)',
      '[INFO] Total constraints: 3,200',
      '[INFO] Applying constraint preprocessing...',
      '[INFO] Running Branch-and-Bound algorithm...',
      '[INFO] Root node LP relaxation: $845,000',
      '[INFO] Node 100: Best bound = $867,000, Best solution = $912,000',
      '[INFO] Node 500: Best bound = $878,000, Best solution = $895,000',
      '[WARN] MIP gap still at 1.9%, continuing search...',
      '[INFO] Node 1000: Best bound = $885,000, Best solution = $892,000',
      '[INFO] Optimal solution found within 0.8% gap',
      '[INFO] Total setup changes: 24 (reduced from 38)',
      '[INFO] MILP solver completed. Objective: $889,000',
      '[INFO] Output: Optimal master plan with discrete decisions',
    ],
    'constraint-programming': [
      '[INFO] Constraint Programming solver starting...',
      '[INFO] Defining CP model for master planning...',
      '[INFO] Variables: 960 interval variables (production tasks)',
      '[INFO] Posting cumulative constraints for resources...',
      '[INFO] Adding precedence constraints between stages...',
      '[INFO] Adding no-overlap constraints for setups...',
      '[INFO] Applying domain reduction propagation...',
      '[INFO] Initial domain sizes reduced by 45%',
      '[INFO] Starting constraint propagation search...',
      '[INFO] Search depth 10: 234 feasible assignments',
      '[INFO] Search depth 20: 45 candidate solutions',
      '[WARN] Backtracking at depth 25: constraint violation',
      '[INFO] Search depth 30: Optimal candidate found',
      '[INFO] Verifying solution against all constraints...',
      '[INFO] All 3,200 constraints satisfied',
      '[INFO] CP solver completed successfully.',
      '[INFO] Output: Feasible master plan satisfying all hard constraints',
    ],
  },
  fp: {
    neh: [
      '[INFO] NEH Heuristic starting...',
      '[INFO] Loading production orders from MP module...',
      '[INFO] Orders received: 24 jobs across 4 production lines',
      '[INFO] Calculating total processing times per job...',
      '[INFO] Sorting jobs by decreasing total processing time...',
      '[INFO] Job order: J12 > J05 > J18 > J03 > ...',
      '[INFO] Phase 1: Placing first job (J12)...',
      '[INFO] Phase 2: Inserting J05 in best position...',
      '[INFO] Evaluating 2 positions, best makespan: 245 min',
      '[INFO] Phase 3: Inserting J18, evaluating 3 positions...',
      '[INFO] Continuing insertion for remaining 21 jobs...',
      '[INFO] Job 12/24 inserted. Current makespan: 687 min',
      '[INFO] Job 18/24 inserted. Current makespan: 892 min',
      '[INFO] Job 24/24 inserted. Final makespan: 1,124 min',
      '[WARN] Bottleneck identified at Machine M3',
      '[INFO] NEH heuristic completed.',
      '[INFO] Output: Initial schedule generated. OEE: 82.5%',
    ],
    'genetic-algorithm': [
      '[INFO] Genetic Algorithm initializing...',
      '[INFO] Loading job shop scheduling problem...',
      '[INFO] Problem size: 24 jobs, 4 machines, 96 operations',
      '[INFO] Encoding: Permutation with repetition',
      '[INFO] Population size: 150 chromosomes',
      '[INFO] Fitness: Minimize makespan + weighted tardiness',
      '[INFO] Initial population generated via NEH seeding...',
      '[INFO] Generation 1: Best = 1,245 min, Avg = 1,567 min',
      '[INFO] Generation 20: Best = 1,089 min, Avg = 1,234 min',
      '[INFO] Generation 40: Best = 987 min, Avg = 1,098 min',
      '[WARN] Local optimum detected. Applying mutation boost...',
      '[INFO] Generation 60: Best = 945 min, Avg = 1,023 min',
      '[INFO] Generation 80: Best = 912 min, Avg = 978 min',
      '[INFO] Generation 100: Best = 898 min, Avg = 945 min',
      '[INFO] Convergence achieved. Best solution found.',
      '[INFO] Decoding chromosome to Gantt schedule...',
      '[INFO] GA completed. Makespan: 898 min, OEE: 87.3%',
      '[INFO] Output: Optimized production schedule generated',
    ],
    'tabu-search': [
      '[INFO] Tabu Search initializing...',
      '[INFO] Loading scheduling problem data...',
      '[INFO] Generating initial solution via dispatching rules...',
      '[INFO] Initial makespan: 1,156 min',
      '[INFO] Tabu list size: 20, Aspiration enabled',
      '[INFO] Neighborhood: Critical path-based moves',
      '[INFO] Iteration 50: Makespan = 1,023 min',
      '[INFO] Iteration 100: Makespan = 967 min',
      '[INFO] Tabu move accepted via aspiration: 945 min',
      '[INFO] Iteration 150: Makespan = 934 min',
      '[WARN] Cycling detected, applying diversification...',
      '[INFO] Iteration 200: Makespan = 912 min',
      '[INFO] Iteration 250: Makespan = 901 min',
      '[INFO] No improvement for 50 iterations. Terminating.',
      '[INFO] Best solution: Makespan = 901 min',
      '[INFO] Tabu Search completed successfully.',
      '[INFO] Output: Schedule optimized. OEE: 86.8%',
    ],
    'ant-colony': [
      '[INFO] Ant Colony Optimization starting...',
      '[INFO] Initializing pheromone matrix...',
      '[INFO] Colony size: 50 ants, Iterations: 200',
      '[INFO] Parameters: alpha=1.0, beta=2.0, rho=0.1',
      '[INFO] Constructing initial solutions...',
      '[INFO] Iteration 1: Best ant makespan = 1,234 min',
      '[INFO] Updating pheromone trails (evaporation + deposit)...',
      '[INFO] Iteration 25: Best = 1,087 min, Global best = 1,087 min',
      '[INFO] Iteration 50: Best = 998 min, Global best = 998 min',
      '[INFO] Iteration 75: Best = 945 min, Global best = 945 min',
      '[WARN] Pheromone stagnation detected, applying reset...',
      '[INFO] Iteration 100: Best = 923 min, Global best = 923 min',
      '[INFO] Iteration 150: Best = 912 min, Global best = 908 min',
      '[INFO] Iteration 200: Best = 905 min, Global best = 905 min',
      '[INFO] ACO completed. Best makespan: 905 min',
      '[INFO] Output: Optimized schedule via swarm intelligence',
      '[INFO] OEE achieved: 87.1%',
    ],
    'simulated-annealing': [
      '[INFO] Simulated Annealing starting...',
      '[INFO] Initial temperature: T0 = 1000',
      '[INFO] Cooling schedule: Geometric (alpha = 0.95)',
      '[INFO] Generating initial solution...',
      '[INFO] Initial makespan: 1,189 min',
      '[INFO] Temperature 1000: Makespan = 1,145 min',
      '[INFO] Temperature 500: Makespan = 1,023 min',
      '[INFO] Temperature 250: Makespan = 967 min',
      '[INFO] Uphill move accepted (P=0.23): 978 min',
      '[INFO] Temperature 125: Makespan = 934 min',
      '[WARN] Reheating triggered due to stagnation',
      '[INFO] Temperature 100: Makespan = 912 min',
      '[INFO] Temperature 50: Makespan = 903 min',
      '[INFO] Temperature 25: Makespan = 898 min',
      '[INFO] Temperature below threshold. Freezing solution.',
      '[INFO] SA completed. Final makespan: 898 min',
      '[INFO] Output: Schedule optimized. OEE: 87.4%',
    ],
  },
  tp: {
    'clarke-wright': [
      '[INFO] Clarke-Wright Savings Algorithm starting...',
      '[INFO] Loading shipment orders from FP module...',
      '[INFO] Deliveries to schedule: 15 customers',
      '[INFO] Fleet available: 5 vehicles (capacity: 10 tons each)',
      '[INFO] Building distance matrix (depot + 15 customers)...',
      '[INFO] Calculating savings for all customer pairs...',
      '[INFO] Savings computed: 105 pairs ranked',
      '[INFO] Merging routes based on savings...',
      '[INFO] Merge 1: Customer 5 + Customer 8, Saving = 45km',
      '[INFO] Merge 2: Customer 3 + Customer 12, Saving = 38km',
      '[INFO] Merge 3: Customer 7 + Customer 11, Saving = 32km',
      '[WARN] Merge rejected: would exceed vehicle capacity',
      '[INFO] Merge 4: Customer 2 + Customer 9, Saving = 28km',
      '[INFO] Final routes constructed: 4 routes',
      '[INFO] Total distance: 478km (vs. 892km direct)',
      '[INFO] Savings achieved: 46.4%',
      '[INFO] Clarke-Wright completed successfully.',
      '[INFO] Output: Initial VRP solution generated',
    ],
    'nearest-neighbor': [
      '[INFO] Nearest Neighbor algorithm starting...',
      '[INFO] Loading delivery data...',
      '[INFO] Customers: 15, Depot location: (37.5, 127.0)',
      '[INFO] Vehicle 1 starting from depot...',
      '[INFO] Visiting nearest unvisited: Customer 3 (dist: 12km)',
      '[INFO] Next nearest: Customer 7 (dist: 8km)',
      '[INFO] Next nearest: Customer 11 (dist: 15km)',
      '[INFO] Vehicle 1 capacity reached. Returning to depot.',
      '[INFO] Vehicle 2 starting from depot...',
      '[INFO] Visiting nearest: Customer 5 (dist: 18km)',
      '[INFO] Next nearest: Customer 2 (dist: 11km)',
      '[WARN] Long detour detected: Customer 9 (dist: 34km)',
      '[INFO] Vehicle 3 starting from depot...',
      '[INFO] All customers assigned to routes.',
      '[INFO] Total routes: 4, Total distance: 512km',
      '[INFO] Nearest Neighbor completed.',
      '[INFO] Output: Quick feasible solution generated',
    ],
    '2-opt': [
      '[INFO] 2-opt Improvement starting...',
      '[INFO] Loading initial VRP solution...',
      '[INFO] Initial total distance: 512km (4 routes)',
      '[INFO] Processing Route 1 (5 customers)...',
      '[INFO] Testing edge swap (3,7) with (11,8)...',
      '[INFO] Improvement found: -18km',
      '[INFO] Testing edge swap (7,11) with (8,depot)...',
      '[INFO] No improvement.',
      '[INFO] Route 1 optimized: 145km -> 127km',
      '[INFO] Processing Route 2 (4 customers)...',
      '[INFO] Improvement found: -12km',
      '[INFO] Route 2 optimized: 134km -> 122km',
      '[WARN] Route 3 already near-optimal, minimal gains',
      '[INFO] Processing Route 4 (3 customers)...',
      '[INFO] Improvement found: -8km',
      '[INFO] 2-opt iterations complete.',
      '[INFO] Total distance reduced: 512km -> 456km (10.9%)',
      '[INFO] Output: Improved routes via local search',
    ],
    'genetic-algorithm': [
      '[INFO] GA for VRP starting...',
      '[INFO] Encoding VRP solution as chromosome...',
      '[INFO] Population size: 100 chromosomes',
      '[INFO] Fitness: 1 / (total_distance + penalty * violations)',
      '[INFO] Initializing population via heuristics...',
      '[INFO] Generation 1: Best distance = 534km',
      '[INFO] Generation 20: Best distance = 489km',
      '[INFO] Generation 40: Best distance = 467km',
      '[INFO] Generation 60: Best distance = 452km',
      '[WARN] Constraint violation in offspring, applying repair...',
      '[INFO] Generation 80: Best distance = 445km',
      '[INFO] Generation 100: Best distance = 441km',
      '[INFO] Convergence detected. Best solution stable.',
      '[INFO] Decoding best chromosome to routes...',
      '[INFO] Route validation: All capacity constraints satisfied',
      '[INFO] GA completed. Total distance: 441km',
      '[INFO] Vehicle utilization: 91%',
      '[INFO] Output: Optimized VRP solution via evolutionary search',
    ],
    'simulated-annealing': [
      '[INFO] SA for VRP starting...',
      '[INFO] Initial temperature: 500',
      '[INFO] Cooling rate: 0.97',
      '[INFO] Initial solution distance: 502km',
      '[INFO] Neighborhood moves: relocate, swap, 2-opt',
      '[INFO] T=500: Current = 487km, Best = 487km',
      '[INFO] T=300: Current = 465km, Best = 465km',
      '[INFO] Uphill move accepted (P=0.18): 472km',
      '[INFO] T=150: Current = 451km, Best = 451km',
      '[INFO] T=75: Current = 445km, Best = 445km',
      '[WARN] Near freezing point, intensifying search...',
      '[INFO] T=35: Current = 439km, Best = 439km',
      '[INFO] T=15: Current = 437km, Best = 437km',
      '[INFO] Temperature frozen. Final refinement...',
      '[INFO] SA completed. Total distance: 437km',
      '[INFO] On-time delivery rate: 98.2%',
      '[INFO] Output: Transportation plan optimized via SA',
    ],
  },
};
